/* eslint-disable @typescript-eslint/no-empty-function */
import { Injectable, inject, signal } from '@angular/core';
import { Subject, mergeMap } from 'rxjs';
import { JSONCodec, JetstreamWsService, SubscribeType } from '@his-base/jetstream-ws';
import * as i0 from "@angular/core";
export class NewsService {
    constructor() {
        this.#url = 'ws://localhost:8080';
        /** 使用Signal變數儲存UserProfile型別的使用者資訊
         * @memberof NewsService
         */
        this.userProfile = signal({});
        this.news = signal({});
        this.allNormalNews = signal({});
        this.allTodoList = signal({});
        this.normalNews = signal({});
        this.toDoList = signal({});
        this.checkedNormalNews = signal({});
        this.checkedToDoList = signal({});
        /** 使用Subject變數自nats拿取包含最新消息的使用者資訊
         * @memberof NewsService
         */
        this.#userNews = new Subject();
        this.#jetStreamWsService = inject(JetstreamWsService);
    }
    #url;
    /** 使用Subject變數自nats拿取包含最新消息的使用者資訊
     * @memberof NewsService
     */
    #userNews;
    /** 使用ConsumerMessages訂閱最新消息
     * @memberof NewsService
     */
    #consumerMessages$;
    #jetStreamWsService;
    async connect() {
        await this.#jetStreamWsService.connect(this.#url);
        console.log("nats啟動");
    }
    async disconnect() {
        // 連線關閉前，會先將目前訂閱給排空
        await this.#jetStreamWsService.drain();
    }
    /** 更新最新消息
     * @param {News[]} news
     * @memberof NewsService
     */
    getNewsFromNats() {
        this.#jetStreamWsService.publish("news.wantNews", { code: "Neo", display: "Neo" });
    }
    setNews() {
        this.news.set(mockNews);
        this.allNormalNews.set(this.getFilterNews("10"));
        this.allTodoList.set(this.getFilterNews("60"));
        this.normalNews.set(this.filterStatus(this.allNormalNews(), "10"));
        this.toDoList.set(this.filterStatus(this.allTodoList(), "10"));
        this.checkedNormalNews.set(this.filterStatus(this.allNormalNews(), "60"));
        this.checkedToDoList.set(this.filterStatus(this.allTodoList(), "60"));
    }
    /** 依‘一般消息’、’待辦工作’分類最新消息
     * @param {Coding} type
     * @return {News[]}
     * @memberof NewsService
     */
    getFilterNews(code) {
        const newsList = this.news();
        if (code) {
            return this.news().filter(m => m.type['code'] == code);
        }
        else {
            return newsList;
        }
    }
    filterStatus(news, code) {
        if (code) {
            return news.filter(m => m.execStatus['code'] == code);
        }
        else {
            return news;
        }
    }
    filterOverdue(news) {
        const date = new Date;
        const aDay = 24 * 60 * 60 * 1000;
        return news.filter(m => date.valueOf() - m.execTime.valueOf() < aDay);
    }
    /** 訂閱最新消息
     * @memberof NewsService
     */
    async subNews() {
        this.#userNews = new Subject();
        const jsonCodec = JSONCodec();
        // 'news.getNews.dashboard'
        this.#consumerMessages$ = this.#jetStreamWsService.subscribe(SubscribeType.Push, 'news.getNews.dashboard');
        console.log("ready to subscribe");
        this.#consumerMessages$
            .pipe(mergeMap(async (messages) => {
            for await (const message of messages) {
                console.log('正在聽的subject： ', message.subject);
                this.#userNews.next(jsonCodec.decode(message.data));
                message.ack();
            }
        }))
            .subscribe(() => { });
        this.#userNews.subscribe((news) => {
            console.log("news", news);
            this.news.set(news);
            // this.normalNews.set(this.getFilterNews("10"))
            // this.toDoList.set(this.getFilterNews("60"))
            this.allNormalNews.set(this.getFilterNews("10"));
            this.allTodoList.set(this.getFilterNews("60"));
            this.normalNews.set(this.filterStatus(this.allNormalNews(), "10"));
            this.toDoList.set(this.filterStatus(this.allTodoList(), "10"));
            this.checkedNormalNews.set(this.filterOverdue(this.filterStatus(this.allNormalNews(), "60")));
            this.checkedToDoList.set(this.filterOverdue(this.filterStatus(this.allTodoList(), "60")));
            console.log("this.news()", this.news());
            console.log("this.normalNews()", this.normalNews());
            console.log("this.toDoListNews()", this.toDoList());
            console.log("this.checkedNormalNews()", this.checkedNormalNews());
            console.log("this.checkedToDoList()", this.checkedToDoList());
        });
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.6", ngImport: i0, type: NewsService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "16.2.6", ngImport: i0, type: NewsService, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.6", ngImport: i0, type: NewsService, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root'
                }]
        }] });
export const mockNews = [
    {
        "_id": "64f1968af80caa4450a1d218",
        "appId": "001-app_id",
        "userCode": {
            "code": "Neo",
            "display": "Neo"
        },
        "subject": "員工健康檢查通知",
        "url": "https://www.hpc.tw",
        "sharedData": {},
        "period": {
            "start": new Date("1990-06-15T00:00"),
            "end": new Date("2229-12-31T23:59")
        },
        "type": {
            "code": "10",
            "display": "一般消息"
        },
        "execTime": new Date("2023-09-27T14:00"),
        "execStatus": {
            "code": "60",
            "display": "已讀/已完成"
        },
        "updatedBy": {
            "code": "alphaTeam",
            "display": "alphaTeam"
        },
        "updatedAt": new Date("1990-06-15T00:00")
    },
    {
        "_id": "64f1968af80caa4450a1d219",
        "appId": "002-app_id",
        "userCode": {
            "code": "Neo",
            "display": "Neo"
        },
        "subject": "您有1筆公文待簽核",
        "url": "https://www.hpc.tw",
        "sharedData": {},
        "period": {
            "start": new Date("1990-06-15T00:00"),
            "end": new Date("2229-12-31T23:59")
        },
        "type": {
            "code": "60",
            "display": "待辦工作"
        },
        "execTime": new Date("2023-09-27T14:00"),
        "execStatus": {
            "code": "60",
            "display": "已讀/已完成"
        },
        "updatedBy": {
            "code": "alphaTeam",
            "display": "alphaTeam"
        },
        "updatedAt": new Date("1990-06-15T00:00")
    },
    {
        "_id": "64f1968af80caa4450a1d21a",
        "appId": "001-app_id",
        "userCode": {
            "code": "Tommy",
            "display": "Tommy"
        },
        "subject": "員工健康檢查通知",
        "url": "https://www.hpc.tw",
        "sharedData": {},
        "period": {
            "start": new Date("1990-06-15T00:00"),
            "end": new Date("2229-12-31T23:59")
        },
        "type": {
            "code": "10",
            "display": "一般消息"
        },
        "execTime": new Date("2023-09-27T14:00"),
        "execStatus": {
            "code": "60",
            "display": "已讀/已完成"
        },
        "updatedBy": {
            "code": "alphaTeam",
            "display": "alphaTeam"
        },
        "updatedAt": new Date("1990-06-15T00:00")
    },
    {
        "_id": "64f1968af80caa4450a1d21b",
        "appId": "002-app_id",
        "userCode": {
            "code": "Tommy",
            "display": "Tommy"
        },
        "subject": "您有2筆公文待簽核",
        "url": "https://www.hpc.tw",
        "sharedData": {},
        "period": {
            "start": new Date("1990-06-15T00:00"),
            "end": new Date("2229-12-31T23:59")
        },
        "type": {
            "code": "60",
            "display": "待辦工作"
        },
        "execTime": new Date("2023-09-27T14:00"),
        "execStatus": {
            "code": "60",
            "display": "已讀/已完成"
        },
        "updatedBy": {
            "code": "alphaTeam",
            "display": "alphaTeam"
        },
        "updatedAt": new Date("1990-06-15T00:00")
    }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmV3cy5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbmV3cy1pbmZvL3NyYy9saWIvbmV3cy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHlEQUF5RDtBQUN6RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFM0QsT0FBTyxFQUFjLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDckQsT0FBTyxFQUFvQixTQUFTLEVBQUUsa0JBQWtCLEVBQUUsYUFBYSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7O0FBT3hHLE1BQU0sT0FBTyxXQUFXO0lBSHhCO1FBS0UsU0FBSSxHQUFHLHFCQUFxQixDQUFDO1FBRTdCOztXQUVHO1FBQ0gsZ0JBQVcsR0FBRyxNQUFNLENBQWMsRUFBaUIsQ0FBQyxDQUFBO1FBRXBELFNBQUksR0FBRyxNQUFNLENBQVMsRUFBWSxDQUFDLENBQUE7UUFDbkMsa0JBQWEsR0FBRyxNQUFNLENBQVMsRUFBWSxDQUFDLENBQUE7UUFDNUMsZ0JBQVcsR0FBRyxNQUFNLENBQVMsRUFBWSxDQUFDLENBQUE7UUFDMUMsZUFBVSxHQUFHLE1BQU0sQ0FBUyxFQUFZLENBQUMsQ0FBQTtRQUN6QyxhQUFRLEdBQUcsTUFBTSxDQUFTLEVBQVksQ0FBQyxDQUFBO1FBQ3ZDLHNCQUFpQixHQUFHLE1BQU0sQ0FBUyxFQUFZLENBQUMsQ0FBQTtRQUNoRCxvQkFBZSxHQUFHLE1BQU0sQ0FBUyxFQUFZLENBQUMsQ0FBQTtRQUU5Qzs7V0FFRztRQUNILGNBQVMsR0FBRyxJQUFJLE9BQU8sRUFBRSxDQUFDO1FBTTFCLHdCQUFtQixHQUFHLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0tBaUhsRDtJQXpJQyxJQUFJLENBQXlCO0lBZTdCOztPQUVHO0lBQ0gsU0FBUyxDQUFpQjtJQUUxQjs7T0FFRztJQUNILGtCQUFrQixDQUFn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QUFHLE9BQU87WUFDaEIsU0FBUyxFQUFHLE9BQU87U0FDcEI7UUFDRCxTQUFTLEVBQUUsV0FBVztRQUN0QixLQUFLLEVBQUUsb0JBQW9CO1FBQzNCLFlBQVksRUFBRSxFQUFFO1FBQ2hCLFFBQVEsRUFBRTtZQUNSLE9BQU8sRUFBRSxJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztZQUNyQyxLQUFLLEVBQUUsSUFBSSxJQUFJLENBQUMsa0JBQWtCLENBQUM7U0FDcEM7UUFDRCxNQUFNLEVBQUU7WUFDTixNQUFNLEVBQUMsSUFBSTtZQUNYLFNBQVMsRUFBQyxNQUFNO1NBQ2pCO1FBQ0QsVUFBVSxFQUFFLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDO1FBQ3hDLFlBQVksRUFBRTtZQUNaLE1BQU0sRUFBRyxJQUFJO1lBQ2IsU0FBUyxFQUFHLFFBQVE7U0FDckI7UUFFRCxXQUFXLEVBQUU7WUFDWCxNQUFNLEVBQUcsV0FBVztZQUNwQixTQUFTLEVBQUcsV0FBVztTQUN4QjtRQUNELFdBQVcsRUFBRSxJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztLQUMxQztDQUNGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb24gKi9cbmltcG9ydCB7IEluamVjdGFibGUsIGluamVjdCwgc2lnbmFsIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBVc2VyUHJvZmlsZSB9IGZyb20gJy4uL3B1YmxpYy1hcGknO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgU3ViamVjdCwgbWVyZ2VNYXAgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IENvbnN1bWVyTWVzc2FnZXMsIEpTT05Db2RlYywgSmV0c3RyZWFtV3NTZXJ2aWNlLCBTdWJzY3JpYmVUeXBlIH0gZnJvbSAnQGhpcy1iYXNlL2pldHN0cmVhbS13cyc7XG5pbXBvcnQgeyBOZXdzIH0gZnJvbSAnQGhpcy12aWV3bW9kZWwvYXBwcG9ydGFsL2Rpc3QnO1xuaW1wb3J0IHsgQ29kaW5nIH0gZnJvbSAnQGhpcy1iYXNlL2RhdGF0eXBlcyc7XG5cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIE5ld3NTZXJ2aWNlIHtcblxuICAjdXJsID0gJ3dzOi8vbG9jYWxob3N0OjgwODAnO1xuXG4gIC8qKiDkvb/nlKhTaWduYWzorormlbjlhLLlrZhVc2VyUHJvZmlsZeWei+WIpeeahOS9v+eUqOiAheizh+ioilxuICAgKiBAbWVtYmVyb2YgTmV3c1NlcnZpY2VcbiAgICovXG4gIHVzZXJQcm9maWxlID0gc2lnbmFsPFVzZXJQcm9maWxlPih7fSBhcyBVc2VyUHJvZmlsZSlcblxuICBuZXdzID0gc2lnbmFsPE5ld3NbXT4oe30gYXMgTmV3c1tdKVxuICBhbGxOb3JtYWxOZXdzID0gc2lnbmFsPE5ld3NbXT4oe30gYXMgTmV3c1tdKVxuICBhbGxUb2RvTGlzdCA9IHNpZ25hbDxOZXdzW10+KHt9IGFzIE5ld3NbXSlcbiAgbm9ybWFsTmV3cyA9IHNpZ25hbDxOZXdzW10+KHt9IGFzIE5ld3NbXSlcbiAgdG9Eb0xpc3QgPSBzaWduYWw8TmV3c1tdPih7fSBhcyBOZXdzW10pXG4gIGNoZWNrZWROb3JtYWxOZXdzID0gc2lnbmFsPE5ld3NbXT4oe30gYXMgTmV3c1tdKVxuICBjaGVja2VkVG9Eb0xpc3QgPSBzaWduYWw8TmV3c1tdPih7fSBhcyBOZXdzW10pXG5cbiAgLyoqIOS9v+eUqFN1YmplY3Torormlbjoh6puYXRz5ou/5Y+W5YyF5ZCr5pyA5paw5raI5oGv55qE5L2/55So6ICF6LOH6KiKXG4gICAqIEBtZW1iZXJvZiBOZXdzU2VydmljZVxuICAgKi9cbiAgI3VzZXJOZXdzID0gbmV3IFN1YmplY3QoKTtcblxuICAvKiog5L2/55SoQ29uc3VtZXJNZXNzYWdlc+iogumWseacgOaWsOa2iOaBr1xuICAgKiBAbWVtYmVyb2YgTmV3c1NlcnZpY2VcbiAgICovXG4gICNjb25zdW1lck1lc3NhZ2VzJCE6IE9ic2VydmFibGU8Q29uc3VtZXJNZXNzYWdlcz47XG4gICNqZXRTdHJlYW1Xc1NlcnZpY2UgPSBpbmplY3QoSmV0c3RyZWFtV3NTZXJ2aWNlKTtcblxuICBhc3luYyBjb25uZWN0KCkge1xuICAgIGF3YWl0IHRoaXMuI2pldFN0cmVhbVdzU2VydmljZS5jb25uZWN0KHRoaXMuI3VybCk7XG4gICAgY29uc29sZS5sb2coXCJuYXRz5ZWf5YuVXCIpXG4gIH1cblxuICBhc3luYyBkaXNjb25uZWN0KCkge1xuICAgIC8vIOmAo+e3mumXnOmWieWJje+8jOacg+WFiOWwh+ebruWJjeiogumWsee1puaOkuepulxuICAgIGF3YWl0IHRoaXMuI2pldFN0cmVhbVdzU2VydmljZS5kcmFpbigpO1xuICB9XG5cbiAgLyoqIOabtOaWsOacgOaWsOa2iOaBr1xuICAgKiBAcGFyYW0ge05ld3NbXX0gbmV3c1xuICAgKiBAbWVtYmVyb2YgTmV3c1NlcnZpY2VcbiAgICovXG4gIGdldE5ld3NGcm9tTmF0cygpOiB2b2lkIHtcbiAgICB0aGlzLiNqZXRTdHJlYW1Xc1NlcnZpY2UucHVibGlzaChcIm5ld3Mud2FudE5ld3NcIiwge2NvZGU6XCJOZW9cIixkaXNwbGF5OlwiTmVvXCJ9KTtcbiAgfVxuXG4gIHNldE5ld3MoKTogdm9pZHtcbiAgICB0aGlzLm5ld3Muc2V0KG1vY2tOZXdzKVxuICAgIHRoaXMuYWxsTm9ybWFsTmV3cy5zZXQodGhpcy5nZXRGaWx0ZXJOZXdzKFwiMTBcIikpXG4gICAgdGhpcy5hbGxUb2RvTGlzdC5zZXQodGhpcy5nZXRGaWx0ZXJOZXdzKFwiNjBcIikpXG5cbiAgICB0aGlzLm5vcm1hbE5ld3Muc2V0KHRoaXMuZmlsdGVyU3RhdHVzKHRoaXMuYWxsTm9ybWFsTmV3cygpLFwiMTBcIikpXG4gICAgdGhpcy50b0RvTGlzdC5zZXQodGhpcy5maWx0ZXJTdGF0dXModGhpcy5hbGxUb2RvTGlzdCgpLCBcIjEwXCIpKVxuICAgIHRoaXMuY2hlY2tlZE5vcm1hbE5ld3Muc2V0KHRoaXMuZmlsdGVyU3RhdHVzKHRoaXMuYWxsTm9ybWFsTmV3cygpLFwiNjBcIikpXG4gICAgdGhpcy5jaGVja2VkVG9Eb0xpc3Quc2V0KHRoaXMuZmlsdGVyU3RhdHVzKHRoaXMuYWxsVG9kb0xpc3QoKSxcIjYwXCIpKVxuXG4gIH1cblxuICAvKiog5L6d4oCY5LiA6Iis5raI5oGv4oCZ44CB4oCZ5b6F6L6m5bel5L2c4oCZ5YiG6aGe5pyA5paw5raI5oGvXG4gICAqIEBwYXJhbSB7Q29kaW5nfSB0eXBlXG4gICAqIEByZXR1cm4ge05ld3NbXX1cbiAgICogQG1lbWJlcm9mIE5ld3NTZXJ2aWNlXG4gICAqL1xuICBnZXRGaWx0ZXJOZXdzKGNvZGU/OkNvZGluZ1snY29kZSddKTogTmV3c1tde1xuICAgIGNvbnN0IG5ld3NMaXN0PXRoaXMubmV3cygpXG4gICAgaWYoY29kZSl7XG4gICAgICByZXR1cm4gdGhpcy5uZXdzKCkuZmlsdGVyKG09Pm0udHlwZVsnY29kZSddPT1jb2RlKVxuICAgIH1cbiAgICBlbHNle1xuICAgICAgcmV0dXJuIG5ld3NMaXN0XG4gICAgfVxuICB9XG5cbiAgZmlsdGVyU3RhdHVzKG5ld3M6TmV3c1tdLCBjb2RlPzpDb2RpbmdbJ2NvZGUnXSk6IE5ld3NbXXtcbiAgICBpZihjb2RlKXtcbiAgICAgIHJldHVybiBuZXdzLmZpbHRlcihtPT5tLmV4ZWNTdGF0dXNbJ2NvZGUnXT09Y29kZSlcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIHJldHVybiBuZXdzXG4gICAgfVxuICB9XG5cblxuICBmaWx0ZXJPdmVyZHVlKG5ld3M6TmV3c1tdKTogTmV3c1tde1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZVxuICAgIGNvbnN0IGFEYXkgPSAyNCo2MCo2MCoxMDAwXG4gICAgcmV0dXJuIG5ld3MuZmlsdGVyKG09PmRhdGUudmFsdWVPZigpIC0gbS5leGVjVGltZS52YWx1ZU9mKCkgPCBhRGF5KVxuICB9XG5cblxuICAvKiog6KiC6Zax5pyA5paw5raI5oGvXG4gICAqIEBtZW1iZXJvZiBOZXdzU2VydmljZVxuICAgKi9cbiAgYXN5bmMgc3ViTmV3cygpIHtcbiAgICB0aGlzLiN1c2VyTmV3cyA9IG5ldyBTdWJqZWN0KCk7XG4gICAgY29uc3QganNvbkNvZGVjID0gSlNPTkNvZGVjKCk7XG4gICAgLy8gJ25ld3MuZ2V0TmV3cy5kYXNoYm9hcmQnXG4gICAgdGhpcy4jY29uc3VtZXJNZXNzYWdlcyQgPSB0aGlzLiNqZXRTdHJlYW1Xc1NlcnZpY2Uuc3Vic2NyaWJlKFxuICAgICAgU3Vic2NyaWJlVHlwZS5QdXNoLFxuICAgICAgJ25ld3MuZ2V0TmV3cy5kYXNoYm9hcmQnXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZyhcInJlYWR5IHRvIHN1YnNjcmliZVwiKVxuXG4gICAgdGhpcy4jY29uc3VtZXJNZXNzYWdlcyRcbiAgICAgIC5waXBlKFxuICAgICAgICBtZXJnZU1hcChhc3luYyAobWVzc2FnZXMpID0+IHtcbiAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmraPlnKjogb3nmoRzdWJqZWN077yaICcsIG1lc3NhZ2Uuc3ViamVjdCk7XG4gICAgICAgICAgICB0aGlzLiN1c2VyTmV3cy5uZXh0KGpzb25Db2RlYy5kZWNvZGUobWVzc2FnZS5kYXRhKSk7XG4gICAgICAgICAgICBtZXNzYWdlLmFjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge30pO1xuXG5cbiAgICAgIHRoaXMuI3VzZXJOZXdzLnN1YnNjcmliZSgobmV3czogYW55KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwibmV3c1wiLCBuZXdzKVxuICAgICAgICB0aGlzLm5ld3Muc2V0KG5ld3MpO1xuICAgICAgICAvLyB0aGlzLm5vcm1hbE5ld3Muc2V0KHRoaXMuZ2V0RmlsdGVyTmV3cyhcIjEwXCIpKVxuICAgICAgICAvLyB0aGlzLnRvRG9MaXN0LnNldCh0aGlzLmdldEZpbHRlck5ld3MoXCI2MFwiKSlcblxuICAgICAgICB0aGlzLmFsbE5vcm1hbE5ld3Muc2V0KHRoaXMuZ2V0RmlsdGVyTmV3cyhcIjEwXCIpKVxuICAgICAgICB0aGlzLmFsbFRvZG9MaXN0LnNldCh0aGlzLmdldEZpbHRlck5ld3MoXCI2MFwiKSlcblxuICAgICAgICB0aGlzLm5vcm1hbE5ld3Muc2V0KHRoaXMuZmlsdGVyU3RhdHVzKHRoaXMuYWxsTm9ybWFsTmV3cygpLCBcIjEwXCIpKVxuICAgICAgICB0aGlzLnRvRG9MaXN0LnNldCh0aGlzLmZpbHRlclN0YXR1cyh0aGlzLmFsbFRvZG9MaXN0KCksXCIxMFwiKSlcbiAgICAgICAgdGhpcy5jaGVja2VkTm9ybWFsTmV3cy5zZXQodGhpcy5maWx0ZXJPdmVyZHVlKHRoaXMuZmlsdGVyU3RhdHVzKHRoaXMuYWxsTm9ybWFsTmV3cygpLCBcIjYwXCIpKSlcbiAgICAgICAgdGhpcy5jaGVja2VkVG9Eb0xpc3Quc2V0KHRoaXMuZmlsdGVyT3ZlcmR1ZSh0aGlzLmZpbHRlclN0YXR1cyh0aGlzLmFsbFRvZG9MaXN0KCksIFwiNjBcIikpKVxuICAgICAgICBjb25zb2xlLmxvZyhcInRoaXMubmV3cygpXCIsIHRoaXMubmV3cygpKVxuICAgICAgICBjb25zb2xlLmxvZyhcInRoaXMubm9ybWFsTmV3cygpXCIsIHRoaXMubm9ybWFsTmV3cygpKVxuICAgICAgICBjb25zb2xlLmxvZyhcInRoaXMudG9Eb0xpc3ROZXdzKClcIiwgdGhpcy50b0RvTGlzdCgpKVxuICAgICAgICBjb25zb2xlLmxvZyhcInRoaXMuY2hlY2tlZE5vcm1hbE5ld3MoKVwiLCB0aGlzLmNoZWNrZWROb3JtYWxOZXdzKCkpXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGhpcy5jaGVja2VkVG9Eb0xpc3QoKVwiLHRoaXMuY2hlY2tlZFRvRG9MaXN0KCkpXG5cbiAgICB9KTtcblxuICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IG1vY2tOZXdzOk5ld3NbXSA9W1xuICB7XG4gICAgXCJfaWRcIjogXCI2NGYxOTY4YWY4MGNhYTQ0NTBhMWQyMThcIixcbiAgICBcImFwcElkXCI6IFwiMDAxLWFwcF9pZFwiLFxuICAgIFwidXNlckNvZGVcIjoge1xuICAgICAgXCJjb2RlXCIgOiBcIk5lb1wiLFxuICAgICAgXCJkaXNwbGF5XCIgOiBcIk5lb1wiXG4gICAgfSxcbiAgICBcInN1YmplY3RcIjogXCLlk6Hlt6XlgaXlurfmqqLmn6XpgJrnn6VcIixcbiAgICBcInVybFwiOiBcImh0dHBzOi8vd3d3LmhwYy50d1wiLFxuICAgIFwic2hhcmVkRGF0YVwiOiB7fSxcbiAgICBcInBlcmlvZFwiOiB7XG4gICAgICBcInN0YXJ0XCI6IG5ldyBEYXRlKFwiMTk5MC0wNi0xNVQwMDowMFwiKSxcbiAgICAgIFwiZW5kXCI6IG5ldyBEYXRlKFwiMjIyOS0xMi0zMVQyMzo1OVwiKVxuICAgIH0sXG4gICAgXCJ0eXBlXCI6IHtcbiAgICAgIFwiY29kZVwiOlwiMTBcIixcbiAgICAgIFwiZGlzcGxheVwiOlwi5LiA6Iis5raI5oGvXCJcbiAgICB9LFxuICAgIFwiZXhlY1RpbWVcIjogbmV3IERhdGUoXCIyMDIzLTA5LTI3VDE0OjAwXCIpLFxuICAgIFwiZXhlY1N0YXR1c1wiOiB7XG4gICAgICBcImNvZGVcIiA6IFwiNjBcIixcbiAgICAgIFwiZGlzcGxheVwiIDogXCLlt7LoroAv5bey5a6M5oiQXCJcbiAgICB9XG4gICAgLFxuICAgIFwidXBkYXRlZEJ5XCI6IHtcbiAgICAgIFwiY29kZVwiIDogXCJhbHBoYVRlYW1cIixcbiAgICAgIFwiZGlzcGxheVwiIDogXCJhbHBoYVRlYW1cIlxuICAgIH0sXG4gICAgXCJ1cGRhdGVkQXRcIjogbmV3IERhdGUoXCIxOTkwLTA2LTE1VDAwOjAwXCIpXG4gIH0sXG4gIHtcbiAgICBcIl9pZFwiOiBcIjY0ZjE5NjhhZjgwY2FhNDQ1MGExZDIxOVwiLFxuICAgIFwiYXBwSWRcIjogXCIwMDItYXBwX2lkXCIsXG4gICAgXCJ1c2VyQ29kZVwiOiB7XG4gICAgICBcImNvZGVcIiA6IFwiTmVvXCIsXG4gICAgICBcImRpc3BsYXlcIiA6IFwiTmVvXCJcbiAgICB9LFxuICAgIFwic3ViamVjdFwiOiBcIuaCqOaciTHnrYblhazmloflvoXnsL3moLhcIixcbiAgICBcInVybFwiOiBcImh0dHBzOi8vd3d3LmhwYy50d1wiLFxuICAgIFwic2hhcmVkRGF0YVwiOiB7fSxcbiAgICBcInBlcmlvZFwiOiB7XG4gICAgICBcInN0YXJ0XCI6IG5ldyBEYXRlKFwiMTk5MC0wNi0xNVQwMDowMFwiKSxcbiAgICAgIFwiZW5kXCI6IG5ldyBEYXRlKFwiMjIyOS0xMi0zMVQyMzo1OVwiKVxuICAgIH0sXG4gICAgXCJ0eXBlXCI6IHtcbiAgICAgIFwiY29kZVwiOlwiNjBcIixcbiAgICAgIFwiZGlzcGxheVwiOlwi5b6F6L6m5bel5L2cXCJcbiAgICB9LFxuICAgIFwiZXhlY1RpbWVcIjogbmV3IERhdGUoXCIyMDIzLTA5LTI3VDE0OjAwXCIpLFxuICAgIFwiZXhlY1N0YXR1c1wiOiB7XG4gICAgICBcImNvZGVcIiA6IFwiNjBcIixcbiAgICAgIFwiZGlzcGxheVwiIDogXCLlt7LoroAv5bey5a6M5oiQXCJcbiAgICB9XG4gICAgLFxuICAgIFwidXBkYXRlZEJ5XCI6IHtcbiAgICAgIFwiY29kZVwiIDogXCJhbHBoYVRlYW1cIixcbiAgICAgIFwiZGlzcGxheVwiIDogXCJhbHBoYVRlYW1cIlxuICAgIH0sXG4gICAgXCJ1cGRhdGVkQXRcIjogbmV3IERhdGUoXCIxOTkwLTA2LTE1VDAwOjAwXCIpXG4gIH0sXG4gIHtcbiAgICBcIl9pZFwiOiBcIjY0ZjE5NjhhZjgwY2FhNDQ1MGExZDIxYVwiLFxuICAgIFwiYXBwSWRcIjogXCIwMDEtYXBwX2lkXCIsXG4gICAgXCJ1c2VyQ29kZVwiOiB7XG4gICAgICBcImNvZGVcIiA6IFwiVG9tbXlcIixcbiAgICAgIFwiZGlzcGxheVwiIDogXCJUb21teVwiXG4gICAgfSxcbiAgICBcInN1YmplY3RcIjogXCLlk6Hlt6XlgaXlurfmqqLmn6XpgJrnn6VcIixcbiAgICBcInVybFwiOiBcImh0dHBzOi8vd3d3LmhwYy50d1wiLFxuICAgIFwic2hhcmVkRGF0YVwiOiB7fSxcbiAgICBcInBlcmlvZFwiOiB7XG4gICAgICBcInN0YXJ0XCI6IG5ldyBEYXRlKFwiMTk5MC0wNi0xNVQwMDowMFwiKSxcbiAgICAgIFwiZW5kXCI6IG5ldyBEYXRlKFwiMjIyOS0xMi0zMVQyMzo1OVwiKVxuICAgIH0sXG4gICAgXCJ0eXBlXCI6IHtcbiAgICAgIFwiY29kZVwiOlwiMTBcIixcbiAgICAgIFwiZGlzcGxheVwiOlwi5LiA6Iis5raI5oGvXCJcbiAgICB9LFxuICAgIFwiZXhlY1RpbWVcIjogbmV3IERhdGUoXCIyMDIzLTA5LTI3VDE0OjAwXCIpLFxuICAgIFwiZXhlY1N0YXR1c1wiOiB7XG4gICAgICBcImNvZGVcIiA6IFwiNjBcIixcbiAgICAgIFwiZGlzcGxheVwiIDogXCLlt7LoroAv5bey5a6M5oiQXCJcbiAgICB9XG4gICAgLFxuICAgIFwidXBkYXRlZEJ5XCI6IHtcbiAgICAgIFwiY29kZVwiIDogXCJhbHBoYVRlYW1cIixcbiAgICAgIFwiZGlzcGxheVwiIDogXCJhbHBoYVRlYW1cIlxuICAgIH0sXG4gICAgXCJ1cGRhdGVkQXRcIjogbmV3IERhdGUoXCIxOTkwLTA2LTE1VDAwOjAwXCIpXG4gIH0sXG4gIHtcbiAgICBcIl9pZFwiOiBcIjY0ZjE5NjhhZjgwY2FhNDQ1MGExZDIxYlwiLFxuICAgIFwiYXBwSWRcIjogXCIwMDItYXBwX2lkXCIsXG4gICAgXCJ1c2VyQ29kZVwiOiB7XG4gICAgICBcImNvZGVcIiA6IFwiVG9tbXlcIixcbiAgICAgIFwiZGlzcGxheVwiIDogXCJUb21teVwiXG4gICAgfSxcbiAgICBcInN1YmplY3RcIjogXCLmgqjmnIky562G5YWs5paH5b6F57C95qC4XCIsXG4gICAgXCJ1cmxcIjogXCJodHRwczovL3d3dy5ocGMudHdcIixcbiAgICBcInNoYXJlZERhdGFcIjoge30sXG4gICAgXCJwZXJpb2RcIjoge1xuICAgICAgXCJzdGFydFwiOiBuZXcgRGF0ZShcIjE5OTAtMDYtMTVUMDA6MDBcIiksXG4gICAgICBcImVuZFwiOiBuZXcgRGF0ZShcIjIyMjktMTItMzFUMjM6NTlcIilcbiAgICB9LFxuICAgIFwidHlwZVwiOiB7XG4gICAgICBcImNvZGVcIjpcIjYwXCIsXG4gICAgICBcImRpc3BsYXlcIjpcIuW+hei+puW3peS9nFwiXG4gICAgfSxcbiAgICBcImV4ZWNUaW1lXCI6IG5ldyBEYXRlKFwiMjAyMy0wOS0yN1QxNDowMFwiKSxcbiAgICBcImV4ZWNTdGF0dXNcIjoge1xuICAgICAgXCJjb2RlXCIgOiBcIjYwXCIsXG4gICAgICBcImRpc3BsYXlcIiA6IFwi5bey6K6AL+W3suWujOaIkFwiXG4gICAgfVxuICAgICxcbiAgICBcInVwZGF0ZWRCeVwiOiB7XG4gICAgICBcImNvZGVcIiA6IFwiYWxwaGFUZWFtXCIsXG4gICAgICBcImRpc3BsYXlcIiA6IFwiYWxwaGFUZWFtXCJcbiAgICB9LFxuICAgIFwidXBkYXRlZEF0XCI6IG5ldyBEYXRlKFwiMTk5MC0wNi0xNVQwMDowMFwiKVxuICB9XG5dO1xuIl19